{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/SignIn.js","components/screens/Signup.js","components/screens/Profile.js","components/screens/UserProfile.js","components/screens/CretePost.jsx","components/screens/SubscribedUser.js","reducers/userReducer.js","App.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","history","useHistory","className","style","color","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","Authorization","getItem","then","res","json","result","console","log","posts","map","item","key","_id","padding","width","height","borderRadius","marginBottom","src","postedBy","pic","alt","name","float","postid","method","newData","filter","photo","likes","includes","body","JSON","stringify","postId","catch","err","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","reset","placeholder","SignIn","React","password","setPassword","email","setEmail","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","Signup","setName","image","setImage","undefined","url","setUrl","uploadFields","message","PostData","FormData","append","uploadPic","files","Profile","myPics","setPics","myposts","maxWidth","margin","display","justifyContent","borderBottom","followers","following","file","userProfile","setProfile","userId","useParams","showFollow","setShoFollow","followId","prevState","unfollowId","newFollower","CretePost","setTitle","setBody","textAlign","postDetails","SubscribedUser","reducer","action","createContext","Routing","parse","exact","path","UserProfile","App","useReducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6dae5392.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\n\nconst Navbar = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n  const renderList = () => {\n    if (state) {\n      return [\n        <>\n          <li>\n            <Link to=\"/profile\">Profile</Link>\n          </li>\n          <li>\n            <Link to=\"/create\">Create Post</Link>\n          </li>\n          <li>\n            <Link to=\"/myfollowingpost\">My Following Posts</Link>\n          </li>\n          <li>\n            <button\n              className=\"btn #c62828 red darken-3\"\n              onClick={() => {\n                localStorage.clear();\n                dispatch({ type: \"CLEAR\" });\n                history.push(\"/signin\");\n              }}\n            >\n              Logout\n            </button>\n          </li>\n        </>,\n      ];\n    } else {\n      return [\n        <>\n          <li>\n            <Link to=\"/signin\">Login</Link>\n          </li>\n          <li>\n            <Link to=\"/signup\">SignUp</Link>\n          </li>\n        </>,\n      ];\n    }\n  };\n  return (\n    <nav>\n      <div className=\"nav-wrapper white\" style={{ color: \"black\" }}>\n        <Link to={state ? \"/\" : \"/signin\"} className=\"brand-logo left\">\n          FzGram\n        </Link>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          {renderList()}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  const [data, setData] = useState();\n\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    fetch(\"/allpost\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result.posts);\n        // console.log(data);\n        setData(result.posts);\n      });\n  }, []);\n  const likePost = (id) => {\n    fetch(\"/like\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return { ...item, likes: result.likes };\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const unlikePost = (id) => {\n    fetch(\"/unlike\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return { ...item, likes: result.likes };\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const makeComment = (text, postId) => {\n    fetch(\"/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId,\n        text,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return { ...item, comments: result.comments };\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const deletePost = (postid) => {\n    fetch(`/deletepost/${postid}`, {\n      method: \"delete\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.filter((item) => {\n          return item._id !== result._id;\n        });\n        setData(newData);\n      });\n  };\n  return (\n    <div className=\"Home\">\n      {data &&\n        data.map((item) => {\n          // console.log(item.postedBy.name);\n          console.log(item);\n          return (\n            <div className=\"card home-card\" key={item._id}>\n              <h5 style={{ padding: \"5px\" }}>\n                <img\n                  style={{\n                    width: \"50px\",\n                    height: \"50px\",\n                    borderRadius: \"50%\",\n                    marginBottom: \"-20px\",\n                  }}\n                  src={item.postedBy.pic}\n                  alt=\"\"\n                />\n                <Link\n                  style={{ marginBottom: \"90px\" }}\n                  to={\n                    item.postedBy._id !== state._id\n                      ? \"/profile/\" + item.postedBy._id\n                      : \"/profile\"\n                  }\n                >\n                  {\" \"}\n                  {item.postedBy.name}{\" \"}\n                </Link>\n                {item.postedBy._id === state._id && (\n                  <i\n                    className=\"material-icons icon_tambahan\"\n                    style={{ float: \"right\" }}\n                    onClick={() => deletePost(item._id)}\n                  >\n                    delete\n                  </i>\n                )}\n              </h5>\n              <div className=\"card-image\">\n                <img src={item.photo} alt=\"foto\" />\n              </div>\n              <div className=\"card-content\">\n                <i\n                  className=\"material-icons icon_tambahan\"\n                  style={{ color: \"red\" }}\n                >\n                  favorite\n                </i>\n                {item.likes.includes(state._id) ? (\n                  <i\n                    className=\"material-icons icon_tambahan\"\n                    onClick={() => unlikePost(item._id)}\n                  >\n                    thumb_down\n                  </i>\n                ) : (\n                  <i\n                    className=\"material-icons icon_tambahan\"\n                    onClick={() => likePost(item._id)}\n                  >\n                    thumb_up\n                  </i>\n                )}\n\n                <h6>{item.likes.length} Likes</h6>\n                <h6>{item.title}</h6>\n                <p>{item.body}</p>\n                {item.comments.map((record) => {\n                  return (\n                    <h6 key={record._id}>\n                      <span style={{ fontWeight: \"600\" }}>\n                        {record.postedBy.name}\n                      </span>{\" \"}\n                      {record.text}\n                    </h6>\n                  );\n                })}\n                <form\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    console.log(e.target[0].value);\n                    makeComment(e.target[0].value, item._id);\n                    e.target.reset();\n                  }}\n                >\n                  <input\n                    // value={name}\n                    // onChange={() => setName(\"\")}\n                    type=\"text\"\n                    placeholder=\"add a comment\"\n                  />\n                </form>\n              </div>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { UserContext } from \"../../App\";\n\nconst SignIn = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n  const [password, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const PostData = () => {\n    if (\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n        email\n      )\n    ) {\n      M.toast({ html: \"Invalid Email\", classes: \"red darken-1\" });\n      return;\n    }\n    fetch(\"/signin\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: email,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        if (data.error) {\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n        } else {\n          localStorage.setItem(\"jwt\", data.token);\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\n          dispatch({ type: \"USER\", payload: data.user });\n          M.toast({\n            html: \"singin successfully\",\n            classes: \"#43a047 green darken-1\",\n          });\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <div className=\"mycard\">\n      <div className=\"card auth-card input-field\">\n        <h2>FzGram</h2>\n        <input\n          type=\"text\"\n          placeholder=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n          onClick={() => {\n            PostData();\n          }}\n        >\n          Login\n        </button>\n        <h5>\n          <Link to=\"/signup\">Don't have an account?</Link>\n        </h5>\n      </div>\n    </div>\n  );\n};\n\nexport default SignIn;\n","import React, { useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport swal from \"sweetalert\";\n\nconst Signup = () => {\n  const history = useHistory();\n  const [name, setName] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [image, setImage] = React.useState(\"\");\n  const [url, setUrl] = React.useState(undefined);\n  useEffect(() => {\n    if (url) {\n      uploadFields();\n    }\n  }, [url]);\n\n  const uploadPic = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"Fzgram\");\n    data.append(\"cloud_name\", \"fariz123\");\n    fetch(\"https://api.cloudinary.com/v1_1/fariz123/image/upload\", {\n      method: \"post\",\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setUrl(data.url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const uploadFields = () => {\n    if (\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n        email\n      )\n    ) {\n      M.toast({ html: \"Invalid Email\", classes: \"red darken-1\" });\n      return;\n    }\n    fetch(\"/signup\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        password: password,\n        email: email,\n        pic: url,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        if (data.error) {\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n        } else {\n          M.toast({\n            html: data.message,\n            classes: \"#43a047 green darken-1\",\n          });\n          history.push(\"/signin\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const PostData = () => {\n    if (image) {\n      uploadPic();\n    } else {\n      uploadFields();\n    }\n  };\n  return (\n    <div className=\"mycard\">\n      <div className=\"card auth-card input-field\">\n        <h2>FzGram</h2>\n        <input\n          type=\"text\"\n          placeholder=\"name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <div className=\"file-field input-field\">\n          <div className=\"btn #64b5f6 blue darken-1\">\n            <span>Upload Pic</span>\n            <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\n          </div>\n          <div className=\"file-path-wrapper\">\n            <input className=\"file-path validate\" type=\"text\" />\n          </div>\n        </div>\n        <button\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n          onClick={() => PostData()}\n        >\n          SignUp\n        </button>\n        <h5>\n          <Link to=\"/signin\">Already have an account?</Link>\n        </h5>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React, { useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nconst Profile = () => {\n  const [myPics, setPics] = React.useState([]);\n  const { state, dispatch } = useContext(UserContext);\n  const [image, setImage] = React.useState(\"\");\n  // const [url, setUrl] = React.useState(\"\");\n  useEffect(() => {\n    fetch(\"/myPost\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        console.log(state);\n        setPics(result.myposts);\n      });\n  }, []);\n  console.log(state);\n  useEffect(() => {\n    if (image) {\n      const data = new FormData();\n      data.append(\"file\", image);\n      data.append(\"upload_preset\", \"Fzgram\");\n      data.append(\"cloud_name\", \"fariz123\");\n      fetch(\"https://api.cloudinary.com/v1_1/fariz123/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          // setUrl(data.url);\n          console.log(data);\n          fetch(\"/updatepic\", {\n            method: \"put\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n            },\n            body: JSON.stringify({\n              pic: data.url,\n            }),\n          })\n            .then((res) => res.json())\n            .then((result) => {\n              console.log(result);\n              localStorage.setItem(\n                \"user\",\n                JSON.stringify({ ...state, pic: result.pic })\n              );\n              dispatch({ type: \"UPDATEPIC\", payload: result.pic });\n              //window.location.reload()\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [image]);\n  const updatePhoto = (file) => {\n    setImage(file);\n  };\n  return (\n    // console.log(state);\n    <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          margin: \"10px 0px\",\n          borderBottom: \"1px solid grey\",\n        }}\n      >\n        <div>\n          <img\n            src={state ? state.pic : \"loading\"}\n            alt=\"\"\n            style={{\n              width: \"160px\",\n              height: \"160px\",\n              borderRadius: \"80px\",\n            }}\n          />\n        </div>\n        <div>\n          <h4>{state ? state.name : \"Loading\"}</h4>\n          <h4>{state ? state.email : \"Loading\"}</h4>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              width: \"108%\",\n            }}\n          >\n            <h5>{myPics.length} Posts</h5>\n            <h5>{state ? state.followers.length : \"0\"} followers</h5>\n            <h5>{state ? state.following.length : \"0\"} Following</h5>\n          </div>\n          <div></div>\n          <div className=\"file-field input-field\" style={{ margin: \"10px\" }}>\n            <div className=\"btn #64b5f6 blue darken-1\">\n              <span>Update pic</span>\n              <input\n                type=\"file\"\n                onChange={(e) => updatePhoto(e.target.files[0])}\n              />\n            </div>\n            <div className=\"file-path-wrapper\">\n              <input className=\"file-path validate\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"gallery\">\n        {myPics &&\n          myPics.map((item) => {\n            return (\n              <img\n                key={item._id}\n                className=\"item\"\n                src={item.photo}\n                alt={item.title}\n              />\n            );\n          })}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport { useParams } from \"react-router-dom\";\nconst Profile = () => {\n  const [userProfile, setProfile] = React.useState(null);\n\n  const { state, dispatch } = useContext(UserContext);\n  const { userId } = useParams();\n  const [showFollow, setShoFollow] = React.useState(\n    state ? !state.following.includes(userId) : true\n  );\n  console.log(userId);\n  useEffect(() => {\n    fetch(`/user/${userId}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        // console.log(result);\n\n        setProfile(result);\n      });\n  }, []);\n  const followUser = () => {\n    fetch(\"/follow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        followId: userId,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        dispatch({\n          type: \"UPDATE\",\n          payload: { following: data.following, followers: data.followers },\n        });\n        localStorage.setItem(\"user\", JSON.stringify(data));\n        setProfile((prevState) => {\n          return {\n            ...prevState,\n            user: {\n              ...prevState.user,\n              followers: [...prevState.user.followers, data._id],\n            },\n          };\n        });\n        setShoFollow(false);\n      });\n  };\n  const unfollowUser = () => {\n    fetch(\"/unfollow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        unfollowId: userId,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        dispatch({\n          type: \"UPDATE\",\n          payload: { following: data.following, followers: data.followers },\n        });\n        localStorage.setItem(\"user\", JSON.stringify(data));\n        setProfile((prevState) => {\n          const newFollower = prevState.user.followers.filter(\n            (item) => item !== data._id\n          );\n          return {\n            ...prevState,\n            user: {\n              ...prevState.user,\n              followers: newFollower,\n            },\n          };\n        });\n        setShoFollow(true);\n      });\n  };\n  return (\n    <>\n      {userProfile ? (\n        <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-around\",\n              margin: \"10px 0px\",\n              borderBottom: \"1px solid grey\",\n            }}\n          >\n            <div>\n              <img\n                src={userProfile.user.pic}\n                alt=\"\"\n                style={{\n                  width: \"160px\",\n                  height: \"160px\",\n                  borderRadius: \"80px\",\n                }}\n              />\n            </div>\n            <div>\n              <h4>{userProfile.user.name}</h4>\n              <h4>{userProfile.user.email}</h4>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  width: \"108%\",\n                }}\n              >\n                <h5>{userProfile.posts.length} Posts</h5>\n                <h5>{userProfile.user.followers.length} followers</h5>\n                <h5>{userProfile.user.following.length} Following</h5>\n              </div>\n              {showFollow ? (\n                <button\n                  style={{ margin: \"10px\" }}\n                  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n                  onClick={() => {\n                    followUser();\n                  }}\n                >\n                  Follow\n                </button>\n              ) : (\n                <button\n                  style={{ margin: \"10px\" }}\n                  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n                  onClick={() => {\n                    unfollowUser();\n                  }}\n                >\n                  unFollow\n                </button>\n              )}\n            </div>\n          </div>\n\n          <div className=\"gallery\">\n            {userProfile.posts &&\n              userProfile.posts.map((item) => {\n                return (\n                  <img\n                    key={item._id}\n                    className=\"item\"\n                    src={item.photo}\n                    alt={item.title}\n                  />\n                );\n              })}\n          </div>\n        </div>\n      ) : (\n        <h2>Loading... : </h2>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect } from \"react\";\nimport M from \"materialize-css\";\nimport { useHistory } from \"react-router-dom\";\n\nconst CretePost = () => {\n  const history = useHistory();\n  const [title, setTitle] = React.useState(\"\");\n  const [body, setBody] = React.useState(\"\");\n  const [image, setImage] = React.useState(\"\");\n  const [url, setUrl] = React.useState(\"\");\n  useEffect(() => {\n    if (url) {\n      fetch(\"/createPost\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n        body: JSON.stringify({\n          title,\n          body,\n          pic: url,\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data);\n          if (data.error) {\n            M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n          } else {\n            M.toast({\n              html: \"created post successfully\",\n              classes: \"#43a047 green darken-1\",\n            });\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [url]);\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"Fzgram\");\n    data.append(\"cloud_name\", \"fariz123\");\n    fetch(\"https://api.cloudinary.com/v1_1/fariz123/image/upload\", {\n      method: \"post\",\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setUrl(data.url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <div\n      className=\"card input-field\"\n      style={{\n        margin: \"30px auto\",\n        maxWidth: \"500px\",\n        padding: \"20px\",\n        textAlign: \"center\",\n      }}\n    >\n      <input\n        type=\"text\"\n        placeholder=\"title\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      <input\n        type=\"text\"\n        placeholder=\"body\"\n        value={body}\n        onChange={(e) => setBody(e.target.value)}\n      />\n      <div className=\"file-field input-field\">\n        <div className=\"btn #64b5f6 blue darken-1\">\n          <span>Upload Image</span>\n          <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\n        </div>\n        <div className=\"file-path-wrapper\">\n          <input className=\"file-path validate\" type=\"text\" />\n        </div>\n      </div>\n      <button\n        className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n        onClick={() => postDetails()}\n      >\n        Submit Post\n      </button>\n    </div>\n  );\n};\n\nexport default CretePost;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport { Link } from \"react-router-dom\";\n\nconst SubscribedUser = () => {\n  const [data, setData] = useState();\n\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    fetch(\"/getsubpost\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result.posts);\n        // console.log(data);\n        setData(result.posts);\n      });\n  }, []);\n  const likePost = (id) => {\n    fetch(\"/like\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return { ...item, likes: result.likes };\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const unlikePost = (id) => {\n    fetch(\"/unlike\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return { ...item, likes: result.likes };\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const makeComment = (text, postId) => {\n    fetch(\"/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId,\n        text,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return { ...item, comments: result.comments };\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const deletePost = (postid) => {\n    fetch(`/deletepost/${postid}`, {\n      method: \"delete\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.filter((item) => {\n          return item._id !== result._id;\n        });\n        setData(newData);\n      });\n  };\n  return (\n    <div className=\"Home\">\n      {data &&\n        data.map((item) => {\n          // console.log(item.postedBy.name);\n          // console.log(item);\n          return (\n            <div className=\"card home-card\" key={item._id}>\n              <h5 style={{ padding: \"5px\" }}>\n                <img\n                  style={{\n                    width: \"50px\",\n                    height: \"50px\",\n                    borderRadius: \"50%\",\n                    marginBottom: \"-20px\",\n                  }}\n                  src={item.postedBy.pic}\n                  alt=\"\"\n                />\n                <Link\n                  to={\n                    item.postedBy._id !== state._id\n                      ? \"/profile/\" + item.postedBy._id\n                      : \"/profile\"\n                  }\n                >\n                  {\" \"}\n                  {item.postedBy.name}{\" \"}\n                </Link>\n                {item.postedBy._id === state._id && (\n                  <i\n                    className=\"material-icons icon_tambahan\"\n                    style={{ float: \"right\" }}\n                    onClick={() => deletePost(item._id)}\n                  >\n                    delete\n                  </i>\n                )}\n              </h5>\n              <div className=\"card-image\">\n                <img src={item.photo} alt=\"foto\" />\n              </div>\n              <div className=\"card-content\">\n                <i\n                  className=\"material-icons icon_tambahan\"\n                  style={{ color: \"red\" }}\n                >\n                  favorite\n                </i>\n                {item.likes.includes(state._id) ? (\n                  <i\n                    className=\"material-icons icon_tambahan\"\n                    onClick={() => unlikePost(item._id)}\n                  >\n                    thumb_down\n                  </i>\n                ) : (\n                  <i\n                    className=\"material-icons icon_tambahan\"\n                    onClick={() => likePost(item._id)}\n                  >\n                    thumb_up\n                  </i>\n                )}\n\n                <h6>{item.likes.length} Likes</h6>\n                <h6>{item.title}</h6>\n                <p>{item.body}</p>\n                {item.comments.map((record) => {\n                  return (\n                    <h6 key={record._id}>\n                      <span style={{ fontWeight: \"600\" }}>\n                        {record.postedBy.name}\n                      </span>{\" \"}\n                      {record.text}\n                    </h6>\n                  );\n                })}\n                <form\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    console.log(e.target[0].value);\n                    makeComment(e.target[0].value, item._id);\n                    e.target.reset();\n                  }}\n                >\n                  <input\n                    // value={name}\n                    // onChange={() => setName(\"\")}\n                    type=\"text\"\n                    placeholder=\"add a comment\"\n                  />\n                </form>\n              </div>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default SubscribedUser;\n","export const initialState = null;\n\nexport const reducer = (state, action) => {\n  if (action.type === \"USER\") {\n    return action.payload;\n  }\n  if (action.type === \"CLEAR\") {\n    return null;\n  }\n  if (action.type === \"UPDATE\") {\n    return {\n      ...state,\n      following: action.payload.following,\n      followers: action.payload.followers,\n    };\n  }\n  if (action.type === \"UPDATEPIC\") {\n    return {\n      ...state,\n      pic: action.payload,\n    };\n  }\n  return state;\n};\n","import React, { useEffect, createContext, useReducer, useContext } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/screens/Home\";\nimport SignIn from \"./components/screens/SignIn\";\nimport Signup from \"./components/screens/Signup\";\nimport Profile from \"./components/screens/Profile.js\";\nimport UserProfile from \"./components/screens/UserProfile\";\nimport CretePost from \"./components/screens/CretePost\";\nimport SubscribedUser from \"./components/screens/SubscribedUser\";\nimport { reducer, initialState } from \"./reducers/userReducer\";\n\nexport const UserContext = createContext();\nconst Routing = () => {\n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(typeof user, user);\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n      // history.push(\"/\");\n    } else {\n      history.push(\"/signin\");\n    }\n  }, []);\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <SignIn />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CretePost />\n      </Route>\n      <Route path={\"/profile/:userId\"}>\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n        <SubscribedUser />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <Navbar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}